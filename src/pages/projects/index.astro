---
import ProjectsView from "../../components/projects/ProjectsView.vue";
import { queryWebProjects } from "../../utils/utils.ts";
import type { TypedProject } from "../../models/Types";
import MainLayout from "../../layouts/MainLayout.astro";

// const phoneProjects: TypedProject[] = await query<Project>(ProjectCollection.PHONE).then(
//     (res) => res.map((project) => ({ ...project, type: ProjectType.PHONE })),
// );
// const projects = [...webProjects, ...phoneProjects].sort();

const webProjects: TypedProject[] = await queryWebProjects();
---

<MainLayout>
    <ProjectsView projects={webProjects} client:load />
</MainLayout>
